   1                             		.file	"pwm_asser_RX210.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.global	_PWM_asser_init
   6                             	_PWM_asser_init:
   7                             	.LFB0:
   8                             		.file 1 "../src/pwm_asser_RX210.c"
   1:../src/pwm_asser_RX210.c **** /* Description du projet
   2:../src/pwm_asser_RX210.c ****    15/11/2016
   3:../src/pwm_asser_RX210.c ****    autor : leconte mickael
   4:../src/pwm_asser_RX210.c **** */
   5:../src/pwm_asser_RX210.c **** 
   6:../src/pwm_asser_RX210.c **** #include "pwm_asser_RX210.h"
   7:../src/pwm_asser_RX210.c **** 
   8:../src/pwm_asser_RX210.c **** #include "iodefine.h"
   9:../src/pwm_asser_RX210.c **** #include "RPBRX210.h"
  10:../src/pwm_asser_RX210.c **** #include "typedefine.h"
  11:../src/pwm_asser_RX210.c **** 
  12:../src/pwm_asser_RX210.c **** 
  13:../src/pwm_asser_RX210.c **** // function which initialyze the PWM of motor driver
  14:../src/pwm_asser_RX210.c **** // it take a parameter which is the frequencie (between 0x0000 & 0xFFFF) of mcu speed
  15:../src/pwm_asser_RX210.c **** void PWM_asser_init( int frequence){
   9                             		.loc 1 15 0
  10 0000 6E 6B                   		pushm	r6-r11
  11                             	.LCFI0:
  12 0002 71 06 FC                		add	#-4, r0, r6
  13                             	.LCFI1:
  14 0005 EF 60                   		mov.L	r6, r0
  15                             	.LCFI2:
  16 0007 E3 61                   		mov.L	r1, [r6]
  16:../src/pwm_asser_RX210.c **** 	MTU3.TCR.BYTE=0x20; // CCLR[2,0]=001 : cleaned by TGRA
  17                             		.loc 1 16 0
  18 0009 FB AE 00 86 08          		mov.L	#0x88600, r10
  19 000e F8 A4 20                		mov.B	#32, [r10]
  17:../src/pwm_asser_RX210.c **** 						// CKEG[1,0]=00  : count on raise front
  18:../src/pwm_asser_RX210.c **** 						// TPSC[2,0]=000 : clk/1
  19:../src/pwm_asser_RX210.c **** 	MTU3.TIORH.BYTE=0x52;	// TGRA up and TGRB down the output signal
  20                             		.loc 1 19 0
  21 0011 FB AE 00 86 08          		mov.L	#0x88600, r10
  22 0016 F9 A4 04 52             		mov.B	#0x52, 4[r10]
  20:../src/pwm_asser_RX210.c **** 	MTU3.TIORL.BYTE=0x52;	// TGRC up and TGRD down the output signal
  23                             		.loc 1 20 0
  24 001a FB AE 00 86 08          		mov.L	#0x88600, r10
  25 001f F9 A4 05 52             		mov.B	#0x52, 5[r10]
  21:../src/pwm_asser_RX210.c **** 	MTU3.TMDR.BYTE=0x02; //MD[3,0]=0010 : pwm mode 1
  26                             		.loc 1 21 0
  27 0023 FB AE 00 86 08          		mov.L	#0x88600, r10
  28 0028 F9 A4 02 02             		mov.B	#2, 2[r10]
  22:../src/pwm_asser_RX210.c **** 	MTU3.TGRA=frequence; //définie la frequence du pwm par rapport à la fréquence du conteur
  29                             		.loc 1 22 0
  30 002c FB AE 00 86 08          		mov.L	#0x88600, r10
  31 0031 EC 6B                   		mov.L	[r6], r11
  32 0033 D7 AB 0C                		mov.W	r11, 24[r10]
  23:../src/pwm_asser_RX210.c **** 	MTU3.TGRC=frequence; //définie la frequence du pwm par rapport à la fréquence du conteur
  33                             		.loc 1 23 0
  34 0036 FB AE 00 86 08          		mov.L	#0x88600, r10
  35 003b EC 6B                   		mov.L	[r6], r11
  36 003d D7 AB 12                		mov.W	r11, 36[r10]
  24:../src/pwm_asser_RX210.c **** 	MTU3.TGRB=0x00; // duty cycle pwm 1 = 0%
  37                             		.loc 1 24 0
  38 0040 FB AE 00 86 08          		mov.L	#0x88600, r10
  39 0045 F9 A5 0D 00             		mov.W	#0, 26[r10]
  25:../src/pwm_asser_RX210.c **** 	MTU3.TGRD=0x0; // duty cylce pwm 2 = 0%
  40                             		.loc 1 25 0
  41 0049 FB AE 00 86 08          		mov.L	#0x88600, r10
  42 004e F9 A5 13 00             		mov.W	#0, 38[r10]
  26:../src/pwm_asser_RX210.c **** 	MTU.TSTR.BIT.CST3=1; // active la pwm
  43                             		.loc 1 26 0
  44 0052 FB AE 0A 86 08          		mov.L	#0x8860a, r10
  45 0057 CD AB 76                		mov.B	118[r10], r11
  46 005a 75 3B 40                		or	#64, r11
  47 005d C7 AB 76                		mov.B	r11, 118[r10]
  27:../src/pwm_asser_RX210.c **** 	}
  48                             		.loc 1 27 0
  49 0060 3F 6B 07                		rtsd	#28, r6-r11
  50                             	.LFE0:
 103                             	.Letext0:
 104                             		.file 2 "../src/iodefine.h"

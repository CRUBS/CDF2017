   1                             		.file	"rx210.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.global	_compteur
   5                             		.section B,"w",@nobits
   6                             		.p2align 2
   7                             		.balign 4
  10                             	_compteur:
  11 0000 00 00 00 00             		.zero	4
  12                             		.section P,"ax"
  13                             		.global	_main
  15                             	_main:
  16                             	.LFB0:
  17                             		.file 1 "../src/rx210.c"
   1:../src/rx210.c **** /***************************************************************/
   2:../src/rx210.c **** /*                                                             */
   3:../src/rx210.c **** /*      PROJECT NAME :  rx210                                  */
   4:../src/rx210.c **** /*      FILE         :  rx210.c                                */
   5:../src/rx210.c **** /*      DESCRIPTION  :  Main Program                           */
   6:../src/rx210.c **** /*      CPU SERIES   :  RX200                                  */
   7:../src/rx210.c **** /*      CPU TYPE     :  RX210                                  */
   8:../src/rx210.c **** /*                                                             */
   9:../src/rx210.c **** /*      This file is generated by e2 studio.                   */
  10:../src/rx210.c **** /*                                                             */
  11:../src/rx210.c **** /***************************************************************/                                
  12:../src/rx210.c ****                                                                            
  13:../src/rx210.c ****                                                                            
  14:../src/rx210.c **** /************************************************************************/
  15:../src/rx210.c **** /*    File Version: V1.00                                               */
  16:../src/rx210.c **** /*    Date Generated: 08/07/2013                                        */
  17:../src/rx210.c **** /************************************************************************/
  18:../src/rx210.c **** 
  19:../src/rx210.c **** #include "iodefine.h"
  20:../src/rx210.c **** #include "RPBRX210.h"
  21:../src/rx210.c **** #include "decoder_quadra.h"
  22:../src/rx210.c **** #include "pwm_asser_RX210.h"
  23:../src/rx210.c **** #include "asservissement.h"
  24:../src/rx210.c **** 
  25:../src/rx210.c **** 
  26:../src/rx210.c **** #ifdef CPPAPP
  27:../src/rx210.c **** //Initialize global constructors
  28:../src/rx210.c **** extern "C" void __main()
  29:../src/rx210.c **** {
  30:../src/rx210.c ****   static int initialized;
  31:../src/rx210.c ****   if (! initialized)
  32:../src/rx210.c ****     {
  33:../src/rx210.c ****       typedef void (*pfunc) ();
  34:../src/rx210.c ****       extern pfunc __ctors[];
  35:../src/rx210.c ****       extern pfunc __ctors_end[];
  36:../src/rx210.c ****       pfunc *p;
  37:../src/rx210.c **** 
  38:../src/rx210.c ****       initialized = 1;
  39:../src/rx210.c ****       for (p = __ctors_end; p > __ctors; )
  40:../src/rx210.c ****     (*--p) ();
  41:../src/rx210.c **** 
  42:../src/rx210.c ****     }
  43:../src/rx210.c **** }
  44:../src/rx210.c **** #endif 
  45:../src/rx210.c **** int compteur=0;
  46:../src/rx210.c **** 
  47:../src/rx210.c **** int main(void)
  48:../src/rx210.c **** {
  18                             		.loc 1 48 0
  19 0000 6E 6C                   		pushm	r6-r12
  20                             	.LCFI0:
  21 0002 71 06 FC                		add	#-4, r0, r6
  22                             	.LCFI1:
  23 0005 EF 60                   		mov.L	r6, r0
  24                             	.LCFI2:
  49:../src/rx210.c **** 	LED1_OFF;LED0_OFF;LED2_OFF;
  25                             		.loc 1 49 0
  26 0007 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  27 000c CD AB 20                		mov.B	32[r10], r11
  28 000f 75 3B 40                		or	#64, r11
  29 0012 C7 AB 20                		mov.B	r11, 32[r10]
  30 0015 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  31 001a CD AB 20                		mov.B	32[r10], r11
  32 001d 75 3B 80                		or	#0xffffff80, r11
  33 0020 C7 AB 20                		mov.B	r11, 32[r10]
  34 0023 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  35 0028 CD AB 20                		mov.B	32[r10], r11
  36 002b 75 3B 20                		or	#32, r11
  37 002e C7 AB 20                		mov.B	r11, 32[r10]
  50:../src/rx210.c **** 	mtclk_init();		// fonction d'initialisation du module de comptage
  38                             		.loc 1 50 0
  39 0031 05 00 00 00             		bsr	_mtclk_init
  51:../src/rx210.c **** 	mtclk_start();		// démarre le décodage en quadrature
  40                             		.loc 1 51 0
  41 0035 05 00 00 00             		bsr	_mtclk_start
  52:../src/rx210.c **** 	PWM_asser_init(0x03E8);
  42                             		.loc 1 52 0
  43 0039 FB 1A E8 03             		mov.L	#0x3e8, r1
  44 003d 05 00 00 00             		bsr	_PWM_asser_init
  53:../src/rx210.c **** 	INA_D=0;INB_D=~INA_D;
  45                             		.loc 1 53 0
  46 0041 FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  47 0046 CD AB 20                		mov.B	32[r10], r11
  48 0049 75 2B FE                		and	#-2, r11
  49 004c C7 AB 20                		mov.B	r11, 32[r10]
  50 004f FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  51 0054 FB BE 0B C0 08          		mov.L	#0x8c00b, r11
  52 0059 CD BB 20                		mov.B	32[r11], r11
  53 005c 64 1B                   		and	#1, r11
  54 005e 7E 0B                   		not	r11
  55 0060 64 1B                   		and	#1, r11
  56 0062 64 1B                   		and	#1, r11
  57 0064 4B BB                   		add	r11, r11
  58 0066 CD AC 20                		mov.B	32[r10], r12
  59 0069 75 2C FD                		and	#-3, r12
  60 006c 57 CB                   		or	r12, r11
  61 006e C7 AB 20                		mov.B	r11, 32[r10]
  54:../src/rx210.c **** 	INA_G=0;INB_G=~INA_G;
  62                             		.loc 1 54 0
  63 0071 FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  64 0076 CD AB 20                		mov.B	32[r10], r11
  65 0079 75 2B FB                		and	#-5, r11
  66 007c C7 AB 20                		mov.B	r11, 32[r10]
  67 007f FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  68 0084 FB BE 0B C0 08          		mov.L	#0x8c00b, r11
  69 0089 CD BB 20                		mov.B	32[r11], r11
  70 008c 5B BB                   		movu.B	r11, r11
  71 008e 68 2B                   		shlr	#2, r11
  72 0090 64 1B                   		and	#1, r11
  73 0092 7E 0B                   		not	r11
  74 0094 64 1B                   		and	#1, r11
  75 0096 64 1B                   		and	#1, r11
  76 0098 6C 3B                   		shll	#3, r11
  77 009a CD AC 20                		mov.B	32[r10], r12
  78 009d 75 2C F7                		and	#-9, r12
  79 00a0 57 CB                   		or	r12, r11
  80 00a2 C7 AB 20                		mov.B	r11, 32[r10]
  55:../src/rx210.c **** 	init_echant(1);
  81                             		.loc 1 55 0
  82 00a5 FB 12 00 00 80 3F       		mov.L	#0x3f800000, r1
  83 00ab 05 00 00 00             		bsr	_init_echant
  56:../src/rx210.c **** 	start_echant();
  84                             		.loc 1 56 0
  85 00af 05 00 00 00             		bsr	_start_echant
  57:../src/rx210.c **** 	pwm_g=0x01F4;//pwm gauche 50%
  86                             		.loc 1 57 0
  87 00b3 FB AE 00 86 08          		mov.L	#0x88600, r10
  88 00b8 F9 A9 0D F4 01          		mov.W	#0x1f4, 26[r10]
  58:../src/rx210.c **** 	pwm_d=0x01F4;//pwm droit 50%
  89                             		.loc 1 58 0
  90 00bd FB AE 00 86 08          		mov.L	#0x88600, r10
  91 00c2 F9 A9 13 F4 01          		mov.W	#0x1f4, 38[r10]
  59:../src/rx210.c **** 	int i=0;
  92                             		.loc 1 59 0
  93 00c7 F8 66 00                		mov.L	#0, [r6]
  94                             	.L6:
  60:../src/rx210.c **** 	while(1){
  61:../src/rx210.c **** 		for(i=0;i<10000;i++){}
  95                             		.loc 1 61 0
  96 00ca F8 66 00                		mov.L	#0, [r6]
  97 00cd 0F                      		bra	.L2
  98                             	.L3:
  99                             		.loc 1 61 0 is_stmt 0 discriminator 2
 100 00ce EC 6A                   		mov.L	[r6], r10
 101 00d0 62 1A                   		add	#1, r10
 102 00d2 E3 6A                   		mov.L	r10, [r6]
 103                             	.L2:
 104                             		.loc 1 61 0 discriminator 1
 105 00d4 EC 6A                   		mov.L	[r6], r10
 106 00d6 76 0A 0F 27             		cmp	#0x270f, r10
 107 00da 2B F4                   		ble	.L3
  62:../src/rx210.c **** 		if(compteur_d>0x0FFF){pwm_d=0x0000;}
 108                             		.loc 1 62 0 is_stmt 1
 109 00dc FB AE 92 86 08          		mov.L	#0x88692, r10
 110 00e1 DD AA BA                		mov.W	372[r10], r10
 111 00e4 5F AA                   		movu.W	r10, r10
 112 00e6 76 0A FF 0F             		cmp	#0xfff, r10
 113 00ea 25 0B                   		bleu	.L4
 114                             		.loc 1 62 0 is_stmt 0 discriminator 1
 115 00ec FB AE 00 86 08          		mov.L	#0x88600, r10
 116 00f1 F9 A5 13 00             		mov.W	#0, 38[r10]
 117                             	.L4:
  63:../src/rx210.c **** 		if(compteur_g>0x0FFF){pwm_g=0x0000;}
 118                             		.loc 1 63 0 is_stmt 1
 119 00f5 FB AE 90 86 08          		mov.L	#0x88690, r10
 120 00fa DD AA 7B                		mov.W	246[r10], r10
 121 00fd 5F AA                   		movu.W	r10, r10
 122 00ff 76 0A FF 0F             		cmp	#0xfff, r10
 123 0103 25 0D                   		bleu	.L5
 124                             		.loc 1 63 0 is_stmt 0 discriminator 1
 125 0105 FB AE 00 86 08          		mov.L	#0x88600, r10
 126 010a F9 A5 0D 00             		mov.W	#0, 26[r10]
  64:../src/rx210.c **** 
  65:../src/rx210.c **** }
 127                             		.loc 1 65 0 is_stmt 1 discriminator 1
 128 010e 2E BC                   		bra	.L6
 129                             	.L5:
 130                             		.loc 1 65 0 is_stmt 0
 131 0110 2E BA                   		bra	.L6
 132                             	.LFE0:
 187                             	.Letext0:
 188                             		.file 2 "../src/iodefine.h"

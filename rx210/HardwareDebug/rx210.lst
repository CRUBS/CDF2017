   1                             		.file	"rx210.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.global	_compteur
   5                             		.section B,"w",@nobits
   6                             		.p2align 2
   7                             		.balign 4
  10                             	_compteur:
  11 0000 00 00 00 00             		.zero	4
  12                             		.section P,"ax"
  13                             		.global	_main
  15                             	_main:
  16                             	.LFB0:
  17                             		.file 1 "../src/rx210.c"
   1:../src/rx210.c **** /***************************************************************/
   2:../src/rx210.c **** /*                                                             */
   3:../src/rx210.c **** /*      PROJECT NAME :  rx210                                  */
   4:../src/rx210.c **** /*      FILE         :  rx210.c                                */
   5:../src/rx210.c **** /*      DESCRIPTION  :  Main Program                           */
   6:../src/rx210.c **** /*      CPU SERIES   :  RX200                                  */
   7:../src/rx210.c **** /*      CPU TYPE     :  RX210                                  */
   8:../src/rx210.c **** /*                                                             */
   9:../src/rx210.c **** /*      This file is generated by e2 studio.                   */
  10:../src/rx210.c **** /*                                                             */
  11:../src/rx210.c **** /***************************************************************/                                
  12:../src/rx210.c ****                                                                            
  13:../src/rx210.c ****                                                                            
  14:../src/rx210.c **** /************************************************************************/
  15:../src/rx210.c **** /*    File Version: V1.00                                               */
  16:../src/rx210.c **** /*    Date Generated: 08/07/2013                                        */
  17:../src/rx210.c **** /************************************************************************/
  18:../src/rx210.c **** 
  19:../src/rx210.c **** #include "iodefine.h"
  20:../src/rx210.c **** #include "RPBRX210.h"
  21:../src/rx210.c **** #include "decoder_quadra.h"
  22:../src/rx210.c **** #include "pwm_asser_RX210.h"
  23:../src/rx210.c **** 
  24:../src/rx210.c **** #ifdef CPPAPP
  25:../src/rx210.c **** //Initialize global constructors
  26:../src/rx210.c **** extern "C" void __main()
  27:../src/rx210.c **** {
  28:../src/rx210.c ****   static int initialized;
  29:../src/rx210.c ****   if (! initialized)
  30:../src/rx210.c ****     {
  31:../src/rx210.c ****       typedef void (*pfunc) ();
  32:../src/rx210.c ****       extern pfunc __ctors[];
  33:../src/rx210.c ****       extern pfunc __ctors_end[];
  34:../src/rx210.c ****       pfunc *p;
  35:../src/rx210.c **** 
  36:../src/rx210.c ****       initialized = 1;
  37:../src/rx210.c ****       for (p = __ctors_end; p > __ctors; )
  38:../src/rx210.c ****     (*--p) ();
  39:../src/rx210.c **** 
  40:../src/rx210.c ****     }
  41:../src/rx210.c **** }
  42:../src/rx210.c **** #endif 
  43:../src/rx210.c **** int compteur=0;
  44:../src/rx210.c **** 
  45:../src/rx210.c **** int main(void)
  46:../src/rx210.c **** {
  18                             		.loc 1 46 0
  19 0000 6E 6C                   		pushm	r6-r12
  20                             	.LCFI0:
  21 0002 EF 06                   		mov.L	r0, r6
  22                             	.LCFI1:
  47:../src/rx210.c **** 	LED1_OFF;
  23                             		.loc 1 47 0
  24 0004 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  25 0009 CD AB 20                		mov.B	32[r10], r11
  26 000c 75 3B 40                		or	#64, r11
  27 000f C7 AB 20                		mov.B	r11, 32[r10]
  48:../src/rx210.c **** 	LED0_OFF;
  28                             		.loc 1 48 0
  29 0012 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  30 0017 CD AB 20                		mov.B	32[r10], r11
  31 001a 75 3B 80                		or	#0xffffff80, r11
  32 001d C7 AB 20                		mov.B	r11, 32[r10]
  49:../src/rx210.c **** 	LED2_OFF;
  33                             		.loc 1 49 0
  34 0020 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  35 0025 CD AB 20                		mov.B	32[r10], r11
  36 0028 75 3B 20                		or	#32, r11
  37 002b C7 AB 20                		mov.B	r11, 32[r10]
  50:../src/rx210.c **** 	mtclk_init();		// fonction d'initialisation du module de comptage
  38                             		.loc 1 50 0
  39 002e 05 00 00 00             		bsr	_mtclk_init
  51:../src/rx210.c **** 	mtclk_start();		// démarre le décodage en quadrature
  40                             		.loc 1 51 0
  41 0032 05 00 00 00             		bsr	_mtclk_start
  52:../src/rx210.c **** 	PWM1_init(0xEFFF);
  42                             		.loc 1 52 0
  43 0036 FB 1E FF EF 00          		mov.L	#0xefff, r1
  44 003b 05 00 00 00             		bsr	_PWM1_init
  53:../src/rx210.c **** 	PWM2_init(0xEFFF);
  45                             		.loc 1 53 0
  46 003f FB 1E FF EF 00          		mov.L	#0xefff, r1
  47 0044 05 00 00 00             		bsr	_PWM2_init
  48                             	.L5:
  54:../src/rx210.c **** 	//start_pwm1(0x00FF);
  55:../src/rx210.c **** 	//start_pwm2(0x00FF);
  56:../src/rx210.c **** 	while(1){
  57:../src/rx210.c **** 		if(compteur_g>compteur+50||compteur_g<compteur-50)
  49                             		.loc 1 57 0
  50 0048 FB AE 90 86 08          		mov.L	#0x88690, r10
  51 004d DD AA 7B                		mov.W	246[r10], r10
  52 0050 5F AB                   		movu.W	r10, r11
  53 0052 FB A2 00 00 00 00       		mov.L	#_compteur, r10
  54 0058 EC AA                   		mov.L	[r10], r10
  55 005a 71 AA 32                		add	#50, r10
  56 005d 47 AB                   		cmp	r10, r11
  57 005f 2A 1B                   		bgt	.L2
  58                             		.loc 1 57 0 is_stmt 0 discriminator 1
  59 0061 FB AE 90 86 08          		mov.L	#0x88690, r10
  60 0066 DD AA 7B                		mov.W	246[r10], r10
  61 0069 5F AB                   		movu.W	r10, r11
  62 006b FB A2 00 00 00 00       		mov.L	#_compteur, r10
  63 0071 EC AA                   		mov.L	[r10], r10
  64 0073 71 AA CE                		add	#-50, r10
  65 0076 47 AB                   		cmp	r10, r11
  66 0078 28 7F                   		bge	.L3
  67                             	.L2:
  58:../src/rx210.c **** 		{
  59:../src/rx210.c **** 			LED1=~LED1;
  68                             		.loc 1 59 0 is_stmt 1
  69 007a FB AE 01 C0 08          		mov.L	#0x8c001, r10
  70 007f FB BE 01 C0 08          		mov.L	#0x8c001, r11
  71 0084 CD BB 20                		mov.B	32[r11], r11
  72 0087 5B BB                   		movu.B	r11, r11
  73 0089 68 6B                   		shlr	#6, r11
  74 008b 64 1B                   		and	#1, r11
  75 008d 7E 0B                   		not	r11
  76 008f 64 1B                   		and	#1, r11
  77 0091 64 1B                   		and	#1, r11
  78 0093 6C 6B                   		shll	#6, r11
  79 0095 CD AC 20                		mov.B	32[r10], r12
  80 0098 75 2C BF                		and	#0xffffffbf, r12
  81 009b 57 CB                   		or	r12, r11
  82 009d C7 AB 20                		mov.B	r11, 32[r10]
  60:../src/rx210.c **** 			compteur = compteur_g;
  83                             		.loc 1 60 0
  84 00a0 FB AE 90 86 08          		mov.L	#0x88690, r10
  85 00a5 DD AA 7B                		mov.W	246[r10], r10
  86 00a8 5F AB                   		movu.W	r10, r11
  87 00aa FB A2 00 00 00 00       		mov.L	#_compteur, r10
  88 00b0 E3 AB                   		mov.L	r11, [r10]
  61:../src/rx210.c **** 			if(sens_rot_g==1){LED0_ON;}
  89                             		.loc 1 61 0
  90 00b2 FB AE 90 86 08          		mov.L	#0x88690, r10
  91 00b7 CD AA F5                		mov.B	245[r10], r10
  92 00ba 5B AA                   		movu.B	r10, r10
  93 00bc 68 7A                   		shlr	#7, r10
  94 00be 5B AA                   		movu.B	r10, r10
  95 00c0 61 1A                   		cmp	#1, r10
  96 00c2 21 12                   		bne	.L4
  97                             		.loc 1 61 0 is_stmt 0 discriminator 1
  98 00c4 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  99 00c9 CD AB 20                		mov.B	32[r10], r11
 100 00cc 75 2B 7F                		and	#0x7f, r11
 101 00cf C7 AB 20                		mov.B	r11, 32[r10]
 102 00d2 2E 25                   		bra	.L3
 103                             	.L4:
  62:../src/rx210.c **** 			else if (sens_rot_g==0){LED0_OFF;}
 104                             		.loc 1 62 0 is_stmt 1
 105 00d4 FB AE 90 86 08          		mov.L	#0x88690, r10
 106 00d9 CD AA F5                		mov.B	245[r10], r10
 107 00dc 5B AA                   		movu.B	r10, r10
 108 00de 68 7A                   		shlr	#7, r10
 109 00e0 5B AA                   		movu.B	r10, r10
 110 00e2 61 0A                   		cmp	#0, r10
 111 00e4 21 13                   		bne	.L3
 112                             		.loc 1 62 0 is_stmt 0 discriminator 1
 113 00e6 FB AE 01 C0 08          		mov.L	#0x8c001, r10
 114 00eb CD AB 20                		mov.B	32[r10], r11
 115 00ee 75 3B 80                		or	#0xffffff80, r11
 116 00f1 C7 AB 20                		mov.B	r11, 32[r10]
  63:../src/rx210.c **** 
  64:../src/rx210.c **** 	}}
 117                             		.loc 1 64 0 is_stmt 1 discriminator 1
 118 00f4 38 54 FF                		bra	.L5
 119                             	.L3:
 120                             		.loc 1 64 0 is_stmt 0
 121 00f7 38 51 FF                		bra	.L5
 122                             	.LFE0:
 172                             	.Letext0:
 173                             		.file 2 "../src/iodefine.h"

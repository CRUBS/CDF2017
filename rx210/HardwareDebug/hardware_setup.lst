   1                             		.file	"hardware_setup.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.global	_HardwareSetup
   6                             	_HardwareSetup:
   7                             	.LFB0:
   8                             		.file 1 "../src/hardware_setup.c"
   1:../src/hardware_setup.c **** /***************************************************************/
   2:../src/hardware_setup.c **** /*                                                             */
   3:../src/hardware_setup.c **** /*      PROJECT NAME :  rx210                                  */
   4:../src/hardware_setup.c **** /*      FILE         :  hardware_setup.c                       */
   5:../src/hardware_setup.c **** /*      DESCRIPTION  :  Hardware Initialization                */
   6:../src/hardware_setup.c **** /*      CPU SERIES   :  RX200                                  */
   7:../src/hardware_setup.c **** /*      CPU TYPE     :  RX210                                  */
   8:../src/hardware_setup.c **** /*                                                             */
   9:../src/hardware_setup.c **** /*      This file is generated by e2 studio.                   */
  10:../src/hardware_setup.c **** /*                                                             */
  11:../src/hardware_setup.c **** /***************************************************************/                                
  12:../src/hardware_setup.c ****                                                                            
  13:../src/hardware_setup.c ****                                                                            
  14:../src/hardware_setup.c **** /************************************************************************/
  15:../src/hardware_setup.c **** /*    File Version: V1.00                                               */
  16:../src/hardware_setup.c **** /*    Date Generated: 08/07/2013                                        */
  17:../src/hardware_setup.c **** /************************************************************************/
  18:../src/hardware_setup.c **** 
  19:../src/hardware_setup.c **** #include "iodefine.h"
  20:../src/hardware_setup.c **** #ifdef __cplusplus
  21:../src/hardware_setup.c **** extern "C"
  22:../src/hardware_setup.c **** {
  23:../src/hardware_setup.c **** #endif
  24:../src/hardware_setup.c ****   extern void HardwareSetup (void);
  25:../src/hardware_setup.c **** #ifdef __cplusplus
  26:../src/hardware_setup.c **** }
  27:../src/hardware_setup.c **** #endif
  28:../src/hardware_setup.c **** 
  29:../src/hardware_setup.c **** void
  30:../src/hardware_setup.c **** HardwareSetup (void)
  31:../src/hardware_setup.c **** {
   9                             		.loc 1 31 0
  10 0000 6E 6B                   		pushm	r6-r11
  11                             	.LCFI0:
  12 0002 EF 06                   		mov.L	r0, r6
  13                             	.LCFI1:
  32:../src/hardware_setup.c **** //Autoriser l'Ã©criture des registres PFS
  33:../src/hardware_setup.c **** MPC.PWPR.BIT.B0WI=0;
  14                             		.loc 1 33 0
  15 0004 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  16 0009 CD AB 1F                		mov.B	31[r10], r11
  17 000c 75 2B 7F                		and	#0x7f, r11
  18 000f C7 AB 1F                		mov.B	r11, 31[r10]
  34:../src/hardware_setup.c **** MPC.PWPR.BIT.PFSWE=1;
  19                             		.loc 1 34 0
  20 0012 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  21 0017 CD AB 1F                		mov.B	31[r10], r11
  22 001a 75 3B 40                		or	#64, r11
  23 001d C7 AB 1F                		mov.B	r11, 31[r10]
  35:../src/hardware_setup.c **** 
  36:../src/hardware_setup.c **** /* Port 1 - LED1 */
  37:../src/hardware_setup.c **** PORT1.PODR.BYTE = 0x00 ;    /* */
  24                             		.loc 1 37 0
  25 0020 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  26 0025 F9 A4 20 00             		mov.B	#0, 32[r10]
  38:../src/hardware_setup.c **** PORT1.PMR.BYTE  = 0x00 ;    /* All GPIO for now */
  27                             		.loc 1 38 0
  28 0029 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  29 002e F9 A4 60 00             		mov.B	#0, 96[r10]
  39:../src/hardware_setup.c **** MPC.P16PFS.BYTE = 0x00 ;    //
  30                             		.loc 1 39 0
  31 0032 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  32 0037 F9 A4 4E 00             		mov.B	#0, 78[r10]
  40:../src/hardware_setup.c **** PORT1.PMR.BYTE  = 0x00 ;    // all port use in I/O
  33                             		.loc 1 40 0
  34 003b FB AE 01 C0 08          		mov.L	#0x8c001, r10
  35 0040 F9 A4 60 00             		mov.B	#0, 96[r10]
  41:../src/hardware_setup.c **** PORT1.PODR.BYTE = 0x00 ; 	// all output are low
  36                             		.loc 1 41 0
  37 0044 FB AE 01 C0 08          		mov.L	#0x8c001, r10
  38 0049 F9 A4 20 00             		mov.B	#0, 32[r10]
  42:../src/hardware_setup.c **** PORT1.PDR.BYTE = 0xFF ;		// all are output
  39                             		.loc 1 42 0
  40 004d FB AE 01 C0 08          		mov.L	#0x8c001, r10
  41 0052 F8 A4 FF                		mov.B	#-1, [r10]
  43:../src/hardware_setup.c **** 
  44:../src/hardware_setup.c **** /* Port 3 - SW1 */
  45:../src/hardware_setup.c **** PORT3.PODR.BYTE = 0x00 ;    /* */
  42                             		.loc 1 45 0
  43 0055 FB AE 03 C0 08          		mov.L	#0x8c003, r10
  44 005a F9 A4 20 00             		mov.B	#0, 32[r10]
  46:../src/hardware_setup.c **** PORT3.PMR.BYTE  = 0x00 ;    /* All GPIO for now */
  45                             		.loc 1 46 0
  46 005e FB AE 03 C0 08          		mov.L	#0x8c003, r10
  47 0063 F9 A4 60 00             		mov.B	#0, 96[r10]
  47:../src/hardware_setup.c **** MPC.P31PFS.BYTE = 0x00 ;    //
  48                             		.loc 1 47 0
  49 0067 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  50 006c F9 A4 59 00             		mov.B	#0, 89[r10]
  48:../src/hardware_setup.c **** PORT3.PMR.BYTE  = 0x00 ;    // all port use in I/O
  51                             		.loc 1 48 0
  52 0070 FB AE 03 C0 08          		mov.L	#0x8c003, r10
  53 0075 F9 A4 60 00             		mov.B	#0, 96[r10]
  49:../src/hardware_setup.c **** PORT3.PODR.BYTE = 0x00 ; 	// all output are low
  54                             		.loc 1 49 0
  55 0079 FB AE 03 C0 08          		mov.L	#0x8c003, r10
  56 007e F9 A4 20 00             		mov.B	#0, 32[r10]
  50:../src/hardware_setup.c **** PORT3.PDR.BYTE = 0x00 ;		// all are output
  57                             		.loc 1 50 0
  58 0082 FB AE 03 C0 08          		mov.L	#0x8c003, r10
  59 0087 F8 A4 00                		mov.B	#0, [r10]
  51:../src/hardware_setup.c **** 
  52:../src/hardware_setup.c **** /* Port A - MTCLKA & MTCLKB & MTCLKC & MTCLKD */
  53:../src/hardware_setup.c **** PORTA.PODR.BYTE = 0x00 ;    /* */
  60                             		.loc 1 53 0
  61 008a FB AE 0A C0 08          		mov.L	#0x8c00a, r10
  62 008f F9 A4 20 00             		mov.B	#0, 32[r10]
  54:../src/hardware_setup.c **** PORTA.PMR.BYTE  = 0x00 ;    /* All GPIO for now */
  63                             		.loc 1 54 0
  64 0093 FB AE 0A C0 08          		mov.L	#0x8c00a, r10
  65 0098 F9 A4 60 00             		mov.B	#0, 96[r10]
  55:../src/hardware_setup.c **** MPC.PA4PFS.BYTE = 0x02 ;    // port = MTCLKA (input)
  66                             		.loc 1 55 0
  67 009c FB AE 00 C1 08          		mov.L	#0x8c100, r10
  68 00a1 F9 A4 94 02             		mov.B	#2, 148[r10]
  56:../src/hardware_setup.c **** MPC.PA6PFS.BYTE = 0x02 ;	// port = MTCLKB (input)
  69                             		.loc 1 56 0
  70 00a5 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  71 00aa F9 A4 96 02             		mov.B	#2, 150[r10]
  57:../src/hardware_setup.c **** MPC.PA1PFS.BYTE = 0x02 ;	// port = MTCLKC (input)
  72                             		.loc 1 57 0
  73 00ae FB AE 00 C1 08          		mov.L	#0x8c100, r10
  74 00b3 F9 A4 91 02             		mov.B	#2, 145[r10]
  58:../src/hardware_setup.c **** MPC.PA3PFS.BYTE = 0x02 ;	// port = MTCLKD (input)
  75                             		.loc 1 58 0
  76 00b7 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  77 00bc F9 A4 93 02             		mov.B	#2, 147[r10]
  59:../src/hardware_setup.c **** PORTA.PMR.BYTE  = 0b01011010 ;    // port 6 & 4 & 3 & 1 use as function
  78                             		.loc 1 59 0
  79 00c0 FB AE 0A C0 08          		mov.L	#0x8c00a, r10
  80 00c5 F9 A4 60 5A             		mov.B	#0x5a, 96[r10]
  60:../src/hardware_setup.c **** PORTA.PODR.BYTE = 0x00 ; 	// all output are low
  81                             		.loc 1 60 0
  82 00c9 FB AE 0A C0 08          		mov.L	#0x8c00a, r10
  83 00ce F9 A4 20 00             		mov.B	#0, 32[r10]
  61:../src/hardware_setup.c **** PORTA.PDR.BYTE = 0x00 ;	// all are input
  84                             		.loc 1 61 0
  85 00d2 FB AE 0A C0 08          		mov.L	#0x8c00a, r10
  86 00d7 F8 A4 00                		mov.B	#0, [r10]
  62:../src/hardware_setup.c **** 
  63:../src/hardware_setup.c **** /* Port B - H driver left and right & RX/TX*/
  64:../src/hardware_setup.c **** PORTB.PODR.BYTE = 0x00 ;    /* */
  87                             		.loc 1 64 0
  88 00da FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  89 00df F9 A4 20 00             		mov.B	#0, 32[r10]
  65:../src/hardware_setup.c **** PORTB.PMR.BYTE  = 0x00 ;    /* All GPIO for now */
  90                             		.loc 1 65 0
  91 00e3 FB AE 0B C0 08          		mov.L	#0x8c00b, r10
  92 00e8 F9 A4 60 00             		mov.B	#0, 96[r10]
  66:../src/hardware_setup.c **** MPC.PB0PFS.BYTE = 0x00 ;    // port = 0/1 (output)
  93                             		.loc 1 66 0
  94 00ec FB AE 00 C1 08          		mov.L	#0x8c100, r10
  95 00f1 F9 A4 98 00             		mov.B	#0, 152[r10]
  67:../src/hardware_setup.c **** MPC.PB1PFS.BYTE = 0x00 ;	// port = 0/1 (output)
  96                             		.loc 1 67 0
  97 00f5 FB AE 00 C1 08          		mov.L	#0x8c100, r10
  98 00fa F9 A4 99 00             		mov.B	#0, 153[r10]
  68:../src/hardware_setup.c **** MPC.PB2PFS.BYTE = 0x00 ;	// port = 0/1 (output)
  99                             		.loc 1 68 0
 100 00fe FB AE 00 C1 08          		mov.L	#0x8c100, r10
 101 0103 F9 A4 9A 00             		mov.B	#0, 154[r10]
  69:../src/hardware_setup.c **** MPC.PB3PFS.BYTE = 0x00 ;	// port = 0/1 (output)
 102                             		.loc 1 69 0
 103 0107 FB AE 00 C1 08          		mov.L	#0x8c100, r10
 104 010c F9 A4 9B 00             		mov.B	#0, 155[r10]
  70:../src/hardware_setup.c **** MPC.PB6PFS.BYTE = 0x10 ;	// port = RXD9 (input)
 105                             		.loc 1 70 0
 106 0110 FB AE 00 C1 08          		mov.L	#0x8c100, r10
 107 0115 F9 A4 9E 10             		mov.B	#16, 158[r10]
  71:../src/hardware_setup.c **** MPC.PB7PFS.BYTE = 0x10 ;	// port = TXD9 (output)
 108                             		.loc 1 71 0
 109 0119 FB AE 00 C1 08          		mov.L	#0x8c100, r10
 110 011e F9 A4 9F 10             		mov.B	#16, 159[r10]
  72:../src/hardware_setup.c **** PORTB.PMR.BYTE  = 0b011000000 ;    // port 6 & 7 use as function
 111                             		.loc 1 72 0
 112 0122 FB AE 0B C0 08          		mov.L	#0x8c00b, r10
 113 0127 F9 A4 60 C0             		mov.B	#-64, 96[r10]
  73:../src/hardware_setup.c **** PORTB.PODR.BYTE = 0x00 ; 	// all output are low
 114                             		.loc 1 73 0
 115 012b FB AE 0B C0 08          		mov.L	#0x8c00b, r10
 116 0130 F9 A4 20 00             		mov.B	#0, 32[r10]
  74:../src/hardware_setup.c **** PORTB.PDR.BYTE = 0b110111111 ;	// port 6 as input rest as output
 117                             		.loc 1 74 0
 118 0134 FB AE 0B C0 08          		mov.L	#0x8c00b, r10
 119 0139 F8 A4 BF                		mov.B	#0xffffffbf, [r10]
  75:../src/hardware_setup.c **** 
  76:../src/hardware_setup.c **** /*Port C - MTIOC3A & MTIOC3C */
  77:../src/hardware_setup.c **** PORTC.PODR.BYTE = 0x00 ;    /* */
 120                             		.loc 1 77 0
 121 013c FB AE 0C C0 08          		mov.L	#0x8c00c, r10
 122 0141 F9 A4 20 00             		mov.B	#0, 32[r10]
  78:../src/hardware_setup.c **** PORTC.PMR.BYTE  = 0x00 ;    /* All GPIO for now */
 123                             		.loc 1 78 0
 124 0145 FB AE 0C C0 08          		mov.L	#0x8c00c, r10
 125 014a F9 A4 60 00             		mov.B	#0, 96[r10]
  79:../src/hardware_setup.c **** MPC.PC0PFS.BYTE = 0x01 ;    // port = MTIOC3C (output)
 126                             		.loc 1 79 0
 127 014e FB AE 00 C1 08          		mov.L	#0x8c100, r10
 128 0153 F9 A4 A0 01             		mov.B	#1, 160[r10]
  80:../src/hardware_setup.c **** MPC.PC1PFS.BYTE = 0x01 ;	// port = MTIOC3A (output)
 129                             		.loc 1 80 0
 130 0157 FB AE 00 C1 08          		mov.L	#0x8c100, r10
 131 015c F9 A4 A1 01             		mov.B	#1, 161[r10]
  81:../src/hardware_setup.c **** PORTC.PMR.BYTE  = 0b00000011 ;    // port 0 & 1 use as function
 132                             		.loc 1 81 0
 133 0160 FB AE 0C C0 08          		mov.L	#0x8c00c, r10
 134 0165 F9 A4 60 03             		mov.B	#3, 96[r10]
  82:../src/hardware_setup.c **** PORTC.PODR.BYTE = 0x00 ; 	// all output are low
 135                             		.loc 1 82 0
 136 0169 FB AE 0C C0 08          		mov.L	#0x8c00c, r10
 137 016e F9 A4 20 00             		mov.B	#0, 32[r10]
  83:../src/hardware_setup.c **** PORTC.PDR.BYTE = 0xFF ;	// all are output
 138                             		.loc 1 83 0
 139 0172 FB AE 0C C0 08          		mov.L	#0x8c00c, r10
 140 0177 F8 A4 FF                		mov.B	#-1, [r10]
  84:../src/hardware_setup.c **** }
 141                             		.loc 1 84 0
 142 017a 3F 6B 06                		rtsd	#24, r6-r11
 143                             	.LFE0:
 191                             	.Letext0:
 192                             		.file 2 "../src/iodefine.h"
